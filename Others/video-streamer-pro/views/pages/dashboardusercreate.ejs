<!DOCTYPE html>
<html lang="en">
  <head>
    <%- include('./partials/dashboardhead.ejs') %>
  </head>
  <body>
    <!-- Navigation-->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-bottom">
      <%- include('./partials/dashboardnav.ejs') %>
    </nav>
    <!-- Page Content-->
    <section>
      <div class="container px-4 px-lg-5">
        <div class="row gx-4 gx-lg-5">
          <div class="col-lg-12">
            <h1 class="dashboard-title">Create User</h1>
            <p class="dashboard-subtitle">Create and store a User in the DB.</p>
            <div class="row">
              <div class="col-lg-9">
                <form action="/users" method="post">
                  <div class="mb-3 row">
                    <!-- if error is passed -->
                    <div class="form-group">
                      <% if(errors.length > 0){ %>
                        <% errors.forEach(function(error) { %>
                        <div class="alert alert-danger alert-dismissible fade show">
                        <button
                          type="button"
                          class="btn-close"
                          data-bs-dismiss="alert"
                        ></button>
                        <%= error.msg %>
                        </div>
                        <% }) %>
                    <% } %>
                    </div>
                    <div class="form-group">
                      <% if(msg){ %>
                      <div class="alert alert-success"><%= msg %></div>
                      <% } %>
                    </div>
                  </div>
                  <div class="mb-3 row">
                    <label for="firstname" class="col-sm-2 col-form-label"
                      >Firstname</label
                    >
                    <div class="col-sm-10">
                      <input
                        type="text"
                        class="form-control"
                        id="firstname"
                        name="firstname"
                        placeholder="Jane"
                        <%
                        if(data)
                        {%>
                      value="<%= data.firstname %>" <% } %> />
                    </div>
                  </div>
                  <div class="mb-3 row">
                    <label for="lastname" class="col-sm-2 col-form-label"
                      >Lastname</label
                    >
                    <div class="col-sm-10">
                      <input
                        type="text"
                        class="form-control"
                        id="lastname"
                        name="lastname"
                        placeholder="Doe"
                        <%
                        if(data)
                        {%>

                      value="<%= data.lastname %>" <% } %> />
                    </div>
                  </div>
                  <div class="mb-3 row">
                    <label for="email" class="col-sm-2 col-form-label"
                      >Username</label
                    >
                    <div class="col-sm-10">
                      <input
                        type="email"
                        class="form-control"
                        id="email"
                        name="username"
                        placeholder="janedoe@gmail.com"
                        <%
                        if(data)
                        {%>

                      value="<%= data.username %>" <% } %> />
                    </div>
                  </div>
                  <div class="mb-3 row">
                    <label for="password" class="col-sm-2 col-form-label"
                      >Password</label
                    >
                    <div class="col-sm-10">
                      <input
                        type="password"
                        class="form-control"
                        id="password"
                        name="password"
                        placeholder="************"
                      />
                    </div>
                  </div>
                  <div class="mb-3 row">
                    <label for="duration" class="col-sm-2 col-form-label"
                      >Subscription</label
                    >
                    <div class="col-sm-8 flex d-flex">
                      <div class="col-sm-2">
                        <input
                          type="number"
                          class="form-control"
                          id="durationnum"
                          name="durationnum"
                          min="1"
                          max="100"
                          value="1"
                          aria-label="select duration length as a number"
                        />
                      </div>
                      <div class="col-sm-6">
                        <select
                          class="form-control form-select"
                          aria-label="select duration period by days, months, weeks, etc..."
                          name="durationperiod"
                        >
                          <option aria-label="day" value="d" selected>
                            Day(s)
                          </option>
                          <option aria-label="month" value="mo">
                            Month(s)
                          </option>
                          <option aria-label="week" value="w">Week(s)</option>
                          <option aria-label="hour" value="h">Hour(s)</option>
                          <option aria-label="minutes" value="m">
                            Minute(s)
                          </option>
                          <option aria-label="seconds" value="s">
                            Second(s)
                          </option>
                        </select>
                      </div>
                    </div>
                  </div>
                  <div class="mb-3 row">
                    <label for="status" class="col-sm-2 col-form-label"
                      >Status</label
                    >
                    <div class="col-sm-3">
                      <select
                        class="form-control form-select"
                        aria-label="select status, ON or OFF"
                        name="status"
                      >
                        <option aria-label="on" value="ON" selected>ON</option>
                        <option aria-label="off" value="OFF">OFF</option>
                      </select>
                    </div>
                  </div>
                  <button type="submit" class="btn btn-primary">Submit</button>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <%- include('./partials/dashboardfooter.ejs') %>
  </body>
</html>
